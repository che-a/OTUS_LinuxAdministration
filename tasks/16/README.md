## Занятие 16. Сбор и анализ логов
### Содержание
1. [Описание занятия](#description)  
2. [Домашнее задание](#homework)  
3. [Выполнение](#exec)  

## 1. Описание занятия <a name="description"></a>
### Цели
- разбираем настройку логирования с помощью `rsyslog` и `logrotate`;  
- знакомимся с модными системами логирования - `ELK`, `graylog`.  

## 2. Домашнее задание  <a name="homework"></a>
### Постановка задачи
Настраиваем центральный сервер для сбора логов.  
- в Вагранте поднимаем 2 машины: `web` и `log`,  
- на `web` поднимаем `nginx`,  
- на `log` настраиваем центральный лог-сервер на любой из систем (`journald`, `rsyslog`, `ELK`),  
- настраиваем аудит, следящий за изменением конфигов `nginx`,  
- все критичные логи с `web` должны собираться и локально и удаленно,  
- все логи с `nginx` должны уходить на удаленный сервер (локально только критичные),  
- логи аудита должны также уходить на удаленную систему.  

### Дополнительное задание
- развернуть еще машину `ELK`и таким образом настроить 2 центральных лог-системы (`ELK` и какую-либо еще);  
- в `ELK` должны уходить только логи `nginx`;  
- во вторую систему -- все остальное.  

### Критерии оценки
4 - если присылают только логи и скриншоты, без вагранта,  
5 - за полную настройку,  
6 - если выполнено задание со звездочкой.  

## 3. Выполнение <a name="exec"></a>  
#### 

Лабораторный стенд состоит из 3-х виртуальных машин:
- `elk` - 
- `log` - `rsyslog`-сервер, `ansible`-сервер;  
- `web` - веб-сервер `nginx` с уставноленным wordpress.  
